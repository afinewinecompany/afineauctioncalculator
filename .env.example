# =============================================================================
# BACKEND ENVIRONMENT VARIABLES (Railway)
# =============================================================================

# Database Configuration
DATABASE_URL="postgresql://user:password@localhost:5432/fantasy_auction?schema=public"

# Redis Cache (optional - gracefully degrades if not available)
REDIS_URL="redis://localhost:6379"

# JWT Authentication
# IMPORTANT: Generate secure random strings for production!
# Use: openssl rand -base64 32
JWT_SECRET="your-secret-key-here-min-32-chars-change-in-production"
JWT_REFRESH_SECRET="your-refresh-secret-key-here-min-32-chars-change-in-production"
JWT_ACCESS_EXPIRY="15m"
JWT_REFRESH_EXPIRY="7d"

# Environment
NODE_ENV="development"
PORT="3001"

# Frontend Configuration
# Development: http://localhost:5173 (Vite default)
# Production: Your Vercel URL (e.g., https://yourapp.vercel.app)
FRONTEND_URL="http://localhost:5173"
CORS_ORIGINS="http://localhost:5173,http://localhost:3000"

# =============================================================================
# GOOGLE OAUTH CONFIGURATION
# =============================================================================
# To enable Google Sign-In, follow these steps:
#
# 1. Go to Google Cloud Console: https://console.cloud.google.com/
# 2. Create a new project or select existing one
# 3. Go to "APIs & Services" > "Credentials"
# 4. Click "Create Credentials" > "OAuth 2.0 Client ID"
# 5. Select "Web application"
# 6. Add Authorized JavaScript origins:
#    - Development: http://localhost:5173
#    - Production: https://yourapp.vercel.app
# 7. Add Authorized redirect URIs:
#    - Development: http://localhost:5173/auth/google/callback
#    - Production: https://yourapp.vercel.app/auth/google/callback
# 8. Copy the Client ID and Client Secret below
#
# Leave empty to disable Google OAuth (email/password will still work)

GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# Callback URL - where Google redirects after authentication
# Development: http://localhost:5173/auth/google/callback
# Production: https://yourapp.vercel.app/auth/google/callback
GOOGLE_CALLBACK_URL="http://localhost:5173/auth/google/callback"

# =============================================================================
# LOGGING & MONITORING
# =============================================================================

LOG_LEVEL="info"

# Error Tracking (Sentry) - Optional
# Leave empty to disable Sentry integration
SENTRY_DSN=""

# =============================================================================
# RATE LIMITING
# =============================================================================

RATE_LIMIT_WINDOW_MS="60000"
RATE_LIMIT_MAX_REQUESTS="100"
AUTH_RATE_LIMIT_MAX="20"

# =============================================================================
# SCRAPING CONFIGURATION
# =============================================================================

COUCH_MANAGERS_BASE_URL="https://couchmanagers.com"
SCRAPING_TIMEOUT_MS="30000"

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

PROJECTIONS_CACHE_TTL_HOURS="24"
AUCTION_CACHE_TTL_MINUTES="5"
DYNASTY_CACHE_TTL_HOURS="12"

# =============================================================================
# SMS NOTIFICATIONS (Twilio)
# =============================================================================
# Twilio SMS provider at $0.0079/message
# Sign up at https://www.twilio.com and get credentials from dashboard
#
# To enable SMS notifications:
# 1. Create a Twilio account at https://www.twilio.com
# 2. Get your Account SID and Auth Token from the Console Dashboard
# 3. Create a Messaging Service and add a phone number to it
# 4. Add the credentials below
#
# Leave empty to disable SMS notifications (app will still work)

TWILIO_ACCOUNT_SID=""
TWILIO_AUTH_TOKEN=""
TWILIO_MESSAGING_SERVICE_SID=""  # Format: MGxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx (preferred)
TWILIO_PHONE_NUMBER=""  # Format: +15551234567 (fallback if no Messaging Service)

# =============================================================================
# CHAT ASSISTANT (Groq LLM)
# =============================================================================
# LLM-powered draft assistant using Groq's API (~$0.05/M tokens)
# Sign up at https://console.groq.com to get an API key
#
# To enable the chat assistant:
# 1. Create a Groq account at https://console.groq.com
# 2. Generate an API key from the dashboard
# 3. Add the key below
#
# Leave empty to disable the chat assistant (draft room will still work)

GROQ_API_KEY=""
GROQ_MODEL="llama-3.1-8b-instant"  # Default model (fast and cost-effective)
CHAT_MAX_TOKENS="1024"  # Max tokens per response
CHAT_RATE_LIMIT_PER_MINUTE="30"  # Rate limit per IP

# =============================================================================
# FRONTEND ENVIRONMENT VARIABLES (Vercel)
# =============================================================================
# These variables are used by the Vite frontend.
# In Vercel, prefix with VITE_ and add to Environment Variables.

# API URL - Backend server URL
# Development: Leave empty (uses Vite dev server proxy)
# Production: Your Railway URL (e.g., https://your-app.up.railway.app)
#
# IMPORTANT: Include the full URL with https:// prefix!
# Correct:   https://your-app.up.railway.app
# Incorrect: your-app.up.railway.app
VITE_API_URL=""

# =============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# =============================================================================
#
# Railway (Backend):
# - DATABASE_URL (auto-configured if using Railway Postgres)
# - REDIS_URL (auto-configured if using Railway Redis)
# - JWT_SECRET (generate secure random string)
# - JWT_REFRESH_SECRET (generate secure random string)
# - NODE_ENV=production
# - FRONTEND_URL=https://yourapp.vercel.app
# - CORS_ORIGINS=https://yourapp.vercel.app
# - GOOGLE_CLIENT_ID (from Google Cloud Console)
# - GOOGLE_CLIENT_SECRET (from Google Cloud Console)
# - GOOGLE_CALLBACK_URL=https://yourapp.vercel.app/auth/google/callback
#
# Vercel (Frontend):
# - VITE_API_URL=https://your-railway-app.up.railway.app
